<div class="container mt-5">
  <h1 class="mb-4">All Posts</h1>
    <ul class="list-group mt-3">
      <% @posts.each do |post| %>
        <li class="list-group-item d-flex justify-content-between align-items-center" id="post_row_<%= post.id%>" >
          <div class="d-flex align-items-center">
            <%= link_to "#{post.name}", post, class: "h5 text-dark me-3 mb-0" %>
            <% if can? :update, post %>
              <%= link_to edit_post_path(post), class: "btn btn-sm btn-outline-secondary me-1", title: "Edit" do %>
                <i class="bi bi-pencil-fill"></i>
              <% end %>
            <% end %>
            <% if can? :destroy, post %>
              <%= link_to post_path(post), data: {turbo_method: :delete, turbo_confirm: 'You sure?'} , class: "btn btn-sm btn-outline-danger" do %>
                <i class="bi bi-trash-fill"></i>
              <% end %>
            <% end %>
          </div>
          <span class="text-secondary">Post created by: <%= post.user.username %></span>
        </li>
      <% end %>
    </ul>
  

  <div class="mt-4">
    <%= link_to "New Post", new_post_path, class: "btn btn-primary", data: { turbo_frame: 'new-post-form' } %>
  </div>
</div>
